# 2.1 ROS 2 کا آرکیٹیکچر (Architecture)

## سیکھنے کے مقاصد (Learning Objectives)

اس سیکشن کے اختتام تک، آپ اس قابل ہو جائیں گے کہ:
- ROS 2 کے آرکیٹیکچر اور اس کے اہم اجزاء کو سمجھ سکیں
- ROS 2 میں DDS مڈل ویئر کے کردار کی وضاحت کر سکیں
- ROS 2 کا ROS 1 سے موازنہ کر سکیں اور بہتریوں کو سمجھ سکیں
- ROS 2 گراف اور نوڈ ڈسکوری (Node Discovery) کے طریقہ کار کو بیان کر سکیں
- قابل بھروسہ مواصلات کے لیے Quality of Service (QoS) پالیسیز کو کنفیگر کر سکیں

---

## تعارف (Introduction)

**ROS 2 (Robot Operating System 2)** روایتی معنوں میں ایک آپریٹنگ سسٹم نہیں ہے — یہ ایک مڈل ویئر فریم ورک (Middleware Framework) ہے جو پیچیدہ روبوٹ سافٹ ویئر بنانے کے لیے لائبریریز، ٹولز اور روایات فراہم کرتا ہے۔ اسے ایک روبوٹ کے "اعصابی نظام" کے طور پر سمجھیں جو سینسرز، ایکچویٹرز اور ذہانت کو آپس میں جوڑتا ہے۔

یہ سیکشن ROS 2 کے آرکیٹیکچر کا تعارف کرواتا ہے، ان بنیادی ڈیزائن فیصلوں پر توجہ مرکوز کرتا ہے جو اسے کمرشل ہیومنائیڈ روبوٹس اور تحقیقی لیبارٹریوں کے لیے موزوں بناتے ہیں۔

---

## ROS 2 کیوں؟

### ROS 1 سے ارتقاء (Evolution)

ROS 1 (جو 2007 میں جاری ہوا) نے روبوٹکس ریسرچ میں انقلاب برپا کر دیا لیکن اس میں پروڈکشن سسٹمز کے لیے کچھ حدود تھیں:

| حد (Limitation) | ROS 1 | ROS 2 |
|------------|-------|-------|
| **Single Point of Failure** | roscore (master) درکار تھا | تقسیم شدہ دریافت (Distributed discovery) |
| **ریئل ٹائم سپورٹ** | محدود تھی | بلٹ ان DDS بشمول ریئل ٹائم صلاحیتیں |
| **ملٹی روبوٹ** | مشکل تھا | DDS کے ذریعے مقامی (Native) سپورٹ |
| **سیکیورٹی** | کوئی نہیں تھی | DDS سیکیورٹی (SROS2) |
| **پلیٹ فارم سپورٹ** | زیادہ تر لینکس | لینکس، ونڈوز، میک، RTOS |
| **مواصلات** | کسٹم TCPROS/UDPROS | انڈسٹری کا معیاری DDS |

**بنیادی بصیرت**: ROS 2 کو شروع ہی سے **پروڈکشن روبوٹکس** کے لیے ڈیزائن کیا گیا تھا، نہ کہ صرف تحقیق کے لیے۔

---

## ROS 2 آرکیٹیکچر کا جائزہ

### ROS 2 گراف (The ROS 2 Graph)

بنیادی طور پر، ROS 2 **نوڈس کا ایک گراف** ہے جو **ٹاپکس (Topics)**، **سروسز (Services)** اور **ایکشنز (Actions)** کے ذریعے ایک دوسرے سے بات چیت کرتے ہیں۔

**اجزاء (Components)**:
- **نوڈس (Nodes)**: آزاد پراسیسز جو کمپیوٹیشن کرتے ہیں
- **ٹاپکس (Topics)**: غیر ہم آہنگ (Asynchronous)، بہت سے بہت (Many-to-many) ڈیٹا اسٹریمز
- **سروسز (Services)**: ہم آہنگ (Synchronous)، درخواست-جواب والے تعاملات
- **ایکشنز (Actions)**: فیڈ بیک اور کینسلشن کے ساتھ طویل عرصے تک چلنے والے کام

---

## DDS: مڈل ویئر لیئر

### DDS کیا ہے؟

**DDS (Data Distribution Service)** ریئل ٹائم اور تقسیم شدہ (Distributed) سسٹمز کے لیے ایک صنعتی معیاری مڈل ویئر ہے۔ ROS 2 اسے اپنی مواصلاتی تہہ (Communication Layer) کے طور پر استعمال کرتا ہے۔

**DDS کیوں؟**
- **آزمودہ ٹیکنالوجی**: ایرواسپیس، دفاع اور آٹوموٹو صنعتوں میں مستعمل
- **ریئل ٹائم**: QoS کی ضمانتوں کے ساتھ حتمی مواصلات
- **وسیع پیمانے پر (Scalable)**: نیٹ ورکس پر ہزاروں نوڈس کی سپورٹ

---

## Quality of Service (QoS)

QoS پالیسیز اس بات کی وضاحت کرتی ہیں کہ ڈیٹا **کیسے** منتقل کیا جاتا ہے، جس سے مواصلات کے بھروسے، تاخیر (Latency) اور وسائل کے استعمال پر کنٹرول ملتا ہے۔

### کلیدی QoS پالیسیز

#### 1. **Reliability (بھروسہ مندی)**
- **Reliable**: پیغام کی ترسیل کی ضمانت دیتا ہے (جیسے TCP)
- **Best Effort**: ترسیل کی کوئی ضمانت نہیں (جیسے UDP) — سینسر اسٹریمز کے لیے بہترین ہے

#### 2. **Durability**
- **Transient Local**: بعد میں آنے والے سبسکرائبرز کو پچھلا پیغام ملتا ہے
- **Volatile**: صرف لائیو ڈیٹا ملتا ہے (ڈیفالٹ)

---

## ROS 2 کے ورژن (Distributions)

ROS 2 ٹائم بیسڈ ریلیز شیڈول کی پیروی کرتا ہے:

| ورژن (Distribution) | ریلیز کی تاریخ | سپورٹ کب تک |
|--------------|--------------|---------------|
| **Humble Hawksbill** | مئی 2022 | مئی 2027 |
| Jazzy Jalisco | مئی 2024 | مئی 2026 |

**اس کورس کے لیے**: ہم **ROS 2 Humble** استعمال کرتے ہیں۔

---

## کلیدی نکات (Key Takeaways)

✅ **ROS 2** روبوٹ سافٹ ویئر بنانے کے لیے ایک مڈل ویئر فریم ورک ہے، نہ کہ OS

✅ **DDS** انڈسٹری کا معیاری، ریئل ٹائم مواصلاتی نظام فراہم کرتا ہے

✅ **کوئی ماسٹر نہیں**: تقسیم شدہ ڈسکوری سنگل پوائنٹ آف فیلیئر کو ختم کرتی ہے

✅ **Humble Hawksbill**: 2027 تک سپورٹ والا LTS ورژن ہے

---

**گزشتہ باب**: [← باب 1: سینسر سسٹمز کا جائزہ](../01-intro/sensor-systems.md)  
**اگلا سیکشن**: [2.2 نوڈس اور کمیونیکیشن →](./nodes-communication.md)
